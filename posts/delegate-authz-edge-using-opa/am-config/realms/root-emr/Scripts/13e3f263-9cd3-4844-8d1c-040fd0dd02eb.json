{
  "metadata" : {
    "realm" : "/emr",
    "amsterVersion" : "7.1.0",
    "entityType" : "Scripts",
    "entityId" : "13e3f263-9cd3-4844-8d1c-040fd0dd02eb",
    "pathParams" : { }
  },
  "data" : {
    "_id" : "13e3f263-9cd3-4844-8d1c-040fd0dd02eb",
    "name" : "Device Profile Match Template - Decision Node Script",
    "description" : "Default global script template for Device Profile Match decision node script for Authentication Tree",
    "script" : "LyoqICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCiAqIENvcHlyaWdodCAyMDIwIEZvcmdlUm9jayBBUy4gQWxsIFJpZ2h0cyBSZXNlcnZlZAogKgogKiBVc2Ugb2YgdGhpcyBjb2RlIHJlcXVpcmVzIGEgY29tbWVyY2lhbCBzb2Z0d2FyZSBsaWNlbnNlIHdpdGggRm9yZ2VSb2NrIEFTLgogKiBvciB3aXRoIG9uZSBvZiBpdHMgYWZmaWxpYXRlcy4gQWxsIHVzZSBzaGFsbCBiZSBleGNsdXNpdmVseSBzdWJqZWN0CiAqIHRvIHN1Y2ggbGljZW5zZSBiZXR3ZWVuIHRoZSBsaWNlbnNlZSBhbmQgRm9yZ2VSb2NrIEFTLgogKgogKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKICoKICogVGhlIGZvbGxvd2luZyBzY3JpcHQgaXMgYSBzaW1wbGlmaWVkIHRlbXBsYXRlIGZvciB1bmRlcnN0YW5kaW5nCiAqIHRoZSBiYXNpY3Mgb2YgZGV2aWNlIG1hdGNoaW5nLiBfVGhpcyBpcyBub3QgZnVuY3Rpb25hbGx5IGNvbXBsZXRlLl8KICogRm9yIGEgZnVuY3Rpb25hbGx5IGNvbXBsZXRlIHNjcmlwdCBhcyB3ZWxsIGFzIGEgZGV2ZWxvcG1lbnQgdG9vbGtpdCwKICogdmlzaXQgaHR0cHM6Ly9naXRodWIuY29tL0ZvcmdlUm9jay9mb3JnZXJvY2stZGV2aWNlLW1hdGNoLXNjcmlwdC4KICoKICogR2xvYmFsIG5vZGUgdmFyaWFibGVzIGFjY2Vzc2libGUgd2l0aGluIHRoaXMgc2NvcGU6CiAqIDEuIGBzaGFyZWRTdGF0ZWAgcHJvdmlkZXMgYWNjZXNzIHRvIGluY29taW5nIHJlcXVlc3QKICogMi4gYGRldmljZVByb2ZpbGVzRGFvYCBwcm92aWRlcyBhY2Nlc3MgdG8gc3RvcmVkIHByb2ZpbGVzCiAqIDMuIGBvdXRjb21lYCB2YXJpYWJsZSBtYXBzIHRvIGF1dGggdHJlZSBub2RlIG91dGNvbWVzOyB2YWx1ZXMgYXJlCiAqICAgICd0cnVlJywgJ2ZhbHNlJywgb3IgJ3Vua25vd25EZXZpY2UnIChub3RpY2UgX2FsbF8gYXJlIHN0cmluZ3MpLgogKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCgovKioKICogR2V0IHRoZSBpbmNvbWluZyByZXF1ZXN0J3MgZGV2aWNlIHByb2ZpbGUuCiAqIFJldHVybnMgc2VyaWFsaXplZCBKU09OICh0eXBlIHN0cmluZyk7IHBhcnNpbmcgdGhpcyB3aWxsIHJlc3VsdCBhCiAqIG5hdGl2ZSBKUyBvYmplY3QuCiAqLwp2YXIgaW5jb21pbmdKc29uID0gc2hhcmVkU3RhdGUuZ2V0KCdmb3JnZVJvY2suZGV2aWNlLnByb2ZpbGUnKS50b1N0cmluZygpOwp2YXIgaW5jb21pbmcgPSBKU09OLnBhcnNlKGluY29taW5nSnNvbik7CgovKioKICogR2V0IHRoZSBpbmNvbWluZyB1c2VyJ3MgdXNlcm5hbWUgYW5kIHJlYWxtLgogKiBOb3RpY2UgdGhlIHVzZSBvZiBgLmFzU3RyaW5nKClgLgogKi8KdmFyIHVzZXJuYW1lID0gc2hhcmVkU3RhdGUuZ2V0KCJ1c2VybmFtZSIpLmFzU3RyaW5nKCk7CnZhciByZWFsbSA9IHNoYXJlZFN0YXRlLmdldCgicmVhbG0iKS5hc1N0cmluZygpOwoKLyoqCiAqIEdldCB0aGUgdXNlcidzIHN0b3JlZCBwcm9maWxlcyBmb3IgYXBwcm9wcmlhdGUgcmVhbG0uCiAqIFJldHVybnMgYSBfc3BlY2lhbF8gb2JqZWN0IHdpdGggbWV0aG9kcyBmb3IgcHJvZmlsZSBkYXRhCiAqLwp2YXIgc3RvcmVkUHJvZmlsZXMgPSBkZXZpY2VQcm9maWxlc0Rhby5nZXREZXZpY2VQcm9maWxlcyh1c2VybmFtZSwgcmVhbG0pOwoKLy8gRGVmYXVsdCB0byBgb3V0Y29tZWAgb2YgJ3Vua25vd25EZXZpY2UnCm91dGNvbWUgPSAndW5rbm93bkRldmljZSc7CgppZiAoc3RvcmVkUHJvZmlsZXMpIHsKICAgIHZhciBpID0gMDsKICAgIC8vIE5PVEU6IGAuc2l6ZSgpYCBtZXRob2QgcmV0dXJucyB0aGUgbnVtYmVyIG9mIHN0b3JlZCBwcm9maWxlcwogICAgdmFyIGxlbiA9IHN0b3JlZFByb2ZpbGVzLnNpemUoKTsKCiAgICBmb3IgKGk7IGkgPCBsZW47IGkrKykgewogICAgICAgIC8qKgogICAgICAgICAqIEdldCB0aGUgc3RvcmVkIHByb2ZpbGUuCiAgICAgICAgICogUmV0dXJucyBzZXJpYWxpemVkIEpTT04gKHR5cGUgc3RyaW5nKTsgcGFyc2luZyB0aGlzIHdpbGwgcmVzdWx0CiAgICAgICAgICogYSBuYXRpdmUgSlMgb2JqZWN0LgogICAgICAgICAqLwogICAgICAgIHZhciBzdG9yZWRKc29uID0gc3RvcmVkUHJvZmlsZXMuZ2V0KGkpOwogICAgICAgIHZhciBzdG9yZWQgPSBKU09OLnBhcnNlKHN0b3JlZEpzb24pOwoKICAgICAgICAvKioKICAgICAgICAgKiBGaW5kIGEgc3RvcmVkIHByb2ZpbGUgd2l0aCB0aGUgc2FtZSBpZGVudGlmaWVyLgogICAgICAgICAqLwogICAgICAgIGlmIChpbmNvbWluZy5pZGVudGlmaWVyID09PSBzdG9yZWQuaWRlbnRpZmllcikgewoKICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAqIE5vdyB0aGF0IHlvdSd2ZSBmb3VuZCB0aGUgYXBwcm9wcmlhdGUgcHJvZmlsZSwgeW91IHdpbGwgcGVyZm9ybQogICAgICAgICAgICAgKiB0aGUgbG9naWMgaGVyZSB0byBtYXRjaCB0aGUgdmFsdWVzIG9mIHRoZSBgaW5jb21pbmdgIHByb2ZpbGUKICAgICAgICAgICAgICogd2l0aCB0aGF0IG9mIHRoZSBgc3RvcmVkYCBwcm9maWxlLgogICAgICAgICAgICAgKgogICAgICAgICAgICAgKiBUaGUgcmVzdWx0IG9mIHRoZSBtYXRjaGluZyBsb2dpYyBpcyBhc3NpZ25lZCB0byBgb3V0Y29tZWAuIFNpbmNlCiAgICAgICAgICAgICAqIHdlIGhhdmUgcHJvZmlsZXMgb2YgdGhlIHNhbWUgaWRlbnRpZmllciwgdGhlIHZhbHVlICh0eXBlIHN0cmluZykKICAgICAgICAgICAgICogc2hvdWxkIG5vdyBiZSBlaXRoZXIgJ3RydWUnIG9yICdmYWxzZScgKHByb3BlcnRpZXMgbWF0Y2hlZCBvciBub3QpLgogICAgICAgICAgICAgKgogICAgICAgICAgICAgKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGlzIHRvcGljLCB2aXNpdCB0aGlzIEdpdGh1YiByZXBvOgogICAgICAgICAgICAgKiBodHRwczovL2dpdGh1Yi5jb20vRm9yZ2VSb2NrL2Zvcmdlcm9jay1kZXZpY2UtbWF0Y2gtc2NyaXB0CiAgICAgICAgICAgICAqLwogICAgICAgICAgICBvdXRjb21lID0gJ2ZhbHNlJzsKICAgICAgICB9CiAgICB9Cn0=",
    "default" : true,
    "language" : "JAVASCRIPT",
    "context" : "AUTHENTICATION_TREE_DECISION_NODE",
    "createdBy" : "id=dsameuser,ou=user,dc=openam,dc=forgerock,dc=org",
    "creationDate" : 1433147666269,
    "lastModifiedBy" : "id=dsameuser,ou=user,dc=openam,dc=forgerock,dc=org",
    "lastModifiedDate" : 1433147666269
  }
}